 
 
##   2.2.1: Custom Templates

## 2.2 Advanced Template Concepts

### Custom Templates

How a particular page request is mapped to a specific page template is handled by the Stencil engine and not typically malleable. You provide a custom presentation for the wishlist page not by creating a new template file and mapping it to the wishlist page via some configuration, but by modifying the _exact_ template `templates/pages/account/wishlist-details.html`.

For a specific list of entities - Brands, Categories, Products and Web Pages - the same holds true for the _default_ templates that apply. However, for these four page types, Stencil offers you the ability to create multiple _custom_templates that can then be applied on a per-record basis. Thus you are not locked into only one content presentation for all products, for all categories, etc.

The discovery of custom templates is based purely on directory structure, not requiring any mapping configuration. To create a custom template, simply include the directory `templates/pages/custom` in your theme, with the appropriate subdirectory for the entity type. All custom templates are placed directly in that entity's subdirectory.

```
- templates
    - pages
        - custom
            - brand
            - category
                - lookbook-category.html
                - subcategories-list.html
            - product
                - spotlight-product.html
            - page
```

When custom templates are included within these directories in a bundled theme applied to the BigCommerce store, they will appear as available options for "Template layout file" when editing a brand, category, product or web page.

[](https://courseassets.swiftotter.com/bc-frontend-foundations/images/bc-admin-template-select.png)

[![](https://courseassets.swiftotter.com/bc-frontend-foundations/images/bc-admin-template-select.png)](https://courseassets.swiftotter.com/bc-frontend-foundations/images/bc-admin-template-select.png)

[](https://courseassets.swiftotter.com/bc-frontend-foundations/images/bc-admin-template-select.png)

The selected template will be used instead of the default page template when that record's page is rendered.

Naturally, your custom templates will often start as an exact copy of the related default template.

You _can_ make use of YAML front matter in custom templates just like in any other page template. This means that you might, for example, create a custom category presentation that loads more or fewer products per page than a typical category page.

> #### Attention!
> 
> As of the time of this writing, the official documentation regarding [Using Front Matter](https://developer.bigcommerce.com/stencil-docs/storefront-customization/using-front-matter) states that front matter cannot be used in custom page templates, but this is outdated. The [Custom Templates](https://developer.bigcommerce.com/stencil-docs/storefront-customization/custom-templates)documentation correctly states that front matter is allowed.

#### Mapping in the Development Environment

It's a bit difficult to build out your custom templates if you don't have a way to browse to pages utilizing them in your local development environment. And yet, the Stencil CLI server pulls its entity details in from your live BigCommerce store data, and that includes assigned templates. How can you browse to a template you're not yet able to assign in the admin?

The `config.stencil.json` file comes to the rescue here, with configuration supporting the mapping of specific URLs to custom templates in the development environment _only_. The configuration in question is "customLayouts".

```json
{
    "customLayouts": {
        "brand": {},
        "category": {
            "lookbook-category.html": "/clothing/designer-picks/",
            "subcategories-list.html": "/clothing/"
        },
        "page": {},
        "product": {
            "spotlight-product.html": "/flannel-prom-gown/"
        }
    }
}
```

"customLayouts" contains nested keys for each entity type ("brand", "category", "page", "product"), and within each is an object consisting of template names as keys and the relative URL paths of pages that should apply them as values.

You can also apply a template to multiple pages by providing an array of URLs instead of a single string:

```json
"lookbook-category.html": [
    "/clothing/designer-picks/", 
    "/accessories/designer-picks/"
]
```

> #### Core Concept
> 
> `config.stencil.json` is one of the only theme files requiring a "restart" of your Stencil CLI environment. After editing it, you must cancel any server process still running and execute `stencil start` again in order for custom template mappings to take effect.

Just don't forget, when you _do_ bundle your theme and apply it in your live BigCommerce store, that `config.stencil.json` will have no bearing on assigned templates there! You must assign custom templates directly in the admin for all entities you want to use them.

